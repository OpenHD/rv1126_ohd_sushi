subdirs = [
	"algos",
]

cc_library_shared {
	name: "librkaiq",
	vendor: true,
	rtti: true,
	local_include_dirs: [
        "xcore",
        "xcore/base",
        "aiq_core",
        "algos",
        "hwi",
		"iq_parser",
        "uAPI",
		"common",
		"common/linux",
		"include",
		"include/iq_parser",
		"include/uAPI",
		"include/xcore",
		"include/common",
		"include/xcore/base",
		"include/algos",
		"include/common/mediactl",
    ],

    header_libs: [
        "gl_headers",
    ],

    shared_libs: [
        "libutils",
        "libcutils",
        "liblog",
    ],

	srcs: [
        // AIQ_CORE_SRC
        "aiq_core/RkAiqHandle.cpp",
        "aiq_core/RkAiqHandleInt.cpp",
        "aiq_core/RkAiqCore.cpp",
        "aiq_core/RkLumaCore.cpp",
		
		//ALGO_COMMON_SRC
        "algos/interpolation.cpp",
		
		//COMMON_SRC
       
		
		//HWI_SRC
        "hwi/CamHwBase.cpp",
        "hwi/isp20/CamHwIsp20.cpp",
        "hwi/isp20/Isp20Params.cpp",
        "hwi/isp20/Isp20PollThread.cpp",
        "hwi/isp20/Isp20StatsBuffer.cpp",
        "hwi/isp20/Isp20_module_dbg.cpp",
        "hwi/isp20/Isp20OfflineFrmRead.cpp",
        "hwi/SensorHw.cpp",
        "hwi/LensHw.cpp",
        "hwi/FlashLight.cpp",

        // IQ_PARSER_SRC
        "iq_parser/RkAiqCalibParser.cpp",
        "iq_parser/RkAiqCalibDb.cpp",
        "iq_parser/RkAiqCalibTag.cpp",
        "iq_parser/tinyxml2.cpp",
        "iq_parser/xmltags.cpp",
		
		//UAPI_SRC
        "uAPI/rk_aiq_user_api_sysctl.cpp",
        "uAPI/rk_aiq_user_api_debug.cpp",
		
		//XCORE_SRC
        "xcore/xcam_common.cpp",
        "xcore/xcam_log.cpp",
        "xcore/xcam_thread.cpp",
        "xcore/xcam_buffer.cpp",
        "xcore/video_buffer.cpp",
        "xcore/v4l2_buffer_proxy.cpp",
        "xcore/v4l2_device.cpp",
        "xcore/buffer_pool.cpp",
        "xcore/poll_thread.cpp",
		
		"RkAiqManager.cpp",
        "common/mediactl/mediactl.c",
    ],

	static_libs: [
        "librkaiq_ae",
        "librkaiq_awb",
        "librkaiq_af",
        "librkaiq_anr",
        "librkaiq_asd",
        "librkaiq_ahdr",
        "librkaiq_acp",
        "librkaiq_asharp",
        "librkaiq_adhaz",
        "librkaiq_a3dlut",
        "librkaiq_ablc",
        "librkaiq_accm",
        "librkaiq_acgc",
        "librkaiq_adebayer",
        "librkaiq_adpcc",
        "librkaiq_afec",
		"librkaiq_agamma",
        "librkaiq_agic",
        "librkaiq_aie",
        "librkaiq_aldch",
        "librkaiq_alsc",
        "librkaiq_aorb",
        "librkaiq_ar2y",
        "librkaiq_awdr",
    ],
	
	 cflags: [
        "-fPIC",
        "-Wall",
		"-Wno-error",
		"-Os",
		"-g",
        "-Wno-unused-value",
		"-Wno-unused-variable",
		"-Wno-unused-private-field",
		"-Wno-unused-but-set-variable",
		"-Wno-unused-function",
        "-Wno-unused-label",
		"-Wno-implicit-fallthrough",
		"-Wno-ignored-qualifiers",
		"-Wno-reorder",
		"-Wno-address-of-packed-member",
		"-Wno-unused-parameter",
		"-Wno-overloaded-virtual",
		"-Wno-extern-c-compat",
		"-fno-strict-aliasing",
		"-frtti",
        "-DANDROID_OS",
    ],
	
    cppflags: [
        "-fPIC",
        "-Wall",
		"-Wno-error",
		"-Os",
		"-g",
        "-Wno-unused-value",
		"-Wno-unused-variable",
		"-Wno-unused-private-field",
		"-Wno-unused-but-set-variable",
		"-Wno-unused-function",
		"-Wno-implicit-fallthrough",
		"-Wno-address-of-packed-member",
		"-Wno-ignored-qualifiers",
        "-Wno-unused-label",
		"-fno-strict-aliasing",
		"-Wno-reorder",
		"-Wno-overloaded-virtual",
		"-Wno-unused-parameter",
		"-Wno-extern-c-compat",
		"-Wno-missing-braces",
		"-Wno-missing-field-initializers",
		"-frtti",
		"-std=c++11",
        "-DANDROID_OS",
    ],

    export_include_dirs: [
        "xcore",
        "xcore/base",
        "aiq_core",
        "algos",
        "hwi",
        "iq_parser",
        "uAPI",
        "common",
        "include",
        "include/iq_parser",
        "include/uAPI",
        "include/xcore",
        "include/common",
        "include/common/mediactl",
        "include/xcore/base",
        "include/algos",
    ],
	//min_sdk_version: "29",
}
